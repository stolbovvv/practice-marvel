import{r as i,j as s,L as f,s as h,S as N}from"./index-5bcb19cd.js";import{g,E as I,a as S,S as p}from"./site-hero-24a2aeb3.js";const L=i.memo(function({data:e}){const c=g(e.image);return s.jsx("li",{className:"comic-list__item",children:s.jsxs(f,{className:"comic-list__item-link",to:`${e.id}`,children:[s.jsx("img",{className:"comic-list__item-image",src:e.image,alt:`${e.name} image`,style:c}),s.jsxs("div",{className:"comic-list__item-body",children:[s.jsx("h3",{className:"comic-list__item-name",children:e.title}),s.jsx("p",{className:"comic-list__item-price",children:e.price?e.price+"$":"Not available"})]})]})})});function M({data:t}){return s.jsx("ul",{className:"comic-list__body",children:t.map((e,c)=>s.jsx(L,{data:e},`${e.id}_${c}`))})}function b({classList:t}){const[c,o]=i.useState(!1),[r,d]=i.useState([]),[_,u]=i.useState(0),[x,m]=i.useState(null),[j,C]=i.useState(!1),n=()=>{m(null),o(!0),S.getAllComics({limit:8,offset:_}).then(l=>{o(!1),d(a=>[...a,...l]),u(a=>a+8),C(l.length<8)}).catch(l=>{o(!1),m(l)})};return i.useEffect(()=>{n()},[]),s.jsxs("div",{className:h("comic-list",t),children:[x?s.jsx(I,{className:"comic-list__error"}):s.jsx(M,{data:r}),s.jsx("button",{className:"button button_red comic-list__button",style:{display:j?"none":"block"},disabled:c,onClick:n,children:c?s.jsx(N,{}):"Load more"})]})}function v(){return s.jsx("section",{className:"section all-comics",children:s.jsxs("div",{className:"container all-comics__container",children:[s.jsx("h2",{className:"title all-comics__title",children:"All comics"}),s.jsx("div",{className:"all-comics__body",children:s.jsx(b,{})})]})})}function O(){return s.jsxs(s.Fragment,{children:[s.jsx(p,{title:"Marvel comics"}),s.jsx(v,{})]})}export{O as default};
