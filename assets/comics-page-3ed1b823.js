import{r as t,g as d,j as s,L as u,s as x,S as j}from"./index-ff74739b.js";import{H as _}from"./Helmet-af051538.js";import{u as f}from"./useList-02553ca4.js";import{E as g,a as p,S as h}from"./site-hero-7878edea.js";const N=t.memo(function({data:i}){const e=d(i.image);return s.jsx("li",{className:"comic-list__item",children:s.jsxs(u,{className:"comic-list__item-link",to:`${i.id}`,children:[s.jsx("img",{className:"comic-list__item-image",src:i.image,alt:`${i.name} image`,style:e}),s.jsxs("div",{className:"comic-list__item-body",children:[s.jsx("h3",{className:"comic-list__item-name",children:i.title}),s.jsx("p",{className:"comic-list__item-price",children:i.price?i.price+"$":"Not available"})]})]})})});function C({data:l}){return s.jsx("ul",{className:"comic-list__body",children:l.map((i,e)=>s.jsx(N,{data:i},`${i.id}_${e}`))})}function v({classList:l}){const[i,e]=f({initLimit:8}),[c,a]=t.useState("pending"),[r,m]=t.useState(null),n=()=>{m(null),a("loading"),p.getAllComics({limit:i.limit,offset:i.offset}).then(o=>{e({data:o}),a("success")}).catch(o=>{m(o),a("failure")})};return t.useEffect(()=>{n()},[]),t.useEffect(()=>{i.ended&&a("ending")},[i.ended]),s.jsxs("div",{className:x("comic-list",l),children:[c==="failure"&&s.jsx(g,{info:r.message}),c!=="failure"&&s.jsx(C,{data:i.list}),c==="loading"&&s.jsx(j,{size:"2.625rem",style:{marginInline:"auto"}}),c!=="loading"&&c!=="ending"&&s.jsx("button",{className:"button button_red comic-list__button",onClick:n,children:"Load more"})]})}function L(){return s.jsx("section",{className:"section all-comics",children:s.jsxs("div",{className:"container all-comics__container",children:[s.jsx("h2",{className:"title all-comics__title",children:"All comics"}),s.jsx("div",{className:"all-comics__body",children:s.jsx(v,{})})]})})}function M(){return s.jsxs(s.Fragment,{children:[s.jsxs(_,{children:[s.jsx("meta",{name:"description",content:"Marvel data base. Page with all comics"}),s.jsx("title",{children:"All Comics â€“ Marvel Data Base"})]}),s.jsx(h,{title:"Marvel comics"}),s.jsx(L,{})]})}export{M as default};
