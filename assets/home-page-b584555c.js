import{g as m,j as e,r as n,S as d}from"./index-8336cc2a.js";import{H as h}from"./Helmet-771e9333.js";import{E as _,a as x,S as u}from"./site-hero-6583e2ab.js";function j(a,r=150){return a.length>r?a.slice(0,r).trim()+"...":a}function p({data:a}){const r=j(a.descr),t=m(a.image);return e.jsxs("div",{className:"random-character__content",children:[e.jsx("img",{className:"random-character__content-image",src:a.image,alt:a.name+" image",style:t}),e.jsxs("div",{className:"random-character__content-body",children:[e.jsx("p",{className:"random-character__content-name",children:a.name}),e.jsx("p",{className:"random-character__content-text",children:r||"Chatacter description not found..."}),e.jsxs("div",{className:"random-character__content-footer",children:[e.jsx("a",{className:"button button_red",href:a.home,target:"_blank",rel:"noopener noreferrer",children:"Home page"}),e.jsx("a",{className:"button button_black",href:a.wiki,target:"_blank",rel:"noopener noreferrer",children:"Wiki"})]})]})]})}function f(){const[a,r]=n.useState(null),[t,c]=n.useState("pending"),[l,o]=n.useState(null),i=()=>{o(null),c("loading"),x.getSingleCharacter({id:Math.floor(Math.random()*500+1011e3)}).then(s=>{r(s[0]),c("success")}).catch(s=>{o(s),c("failure")})};return n.useEffect(()=>{i()},[]),e.jsx("section",{className:"section random-character",children:e.jsxs("div",{className:"container random-character__container",children:[e.jsx("h2",{className:"title random-character__title",children:"Random character for today!"}),e.jsxs("div",{className:"random-character__body",children:[t==="failure"&&e.jsx(_,{className:"random-character__error",info:l.message}),t==="loading"&&e.jsx(d,{className:"random-character__spinner"}),t==="success"&&e.jsx(p,{data:a}),e.jsxs("div",{className:"random-character__banner",children:[e.jsx("p",{className:"random-character__banner-title",children:"Do you want to get to know him better?"}),e.jsxs("div",{className:"random-character__banner-footer",children:[e.jsx("p",{className:"random-character__banner-text",children:"Or choose another one:"}),e.jsx("button",{className:"random-character__banner-button button button_red",onClick:i,children:"TRY IT"})]})]})]})]})})}function v(){return e.jsxs(e.Fragment,{children:[e.jsxs(h,{children:[e.jsx("meta",{name:"description",content:"Marvel data base. Home page with random character"}),e.jsx("title",{children:"Marvel Data Base"})]}),e.jsx(u,{title:"Marvel data base"}),e.jsx(f,{})]})}export{v as default};
